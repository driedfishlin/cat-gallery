{"version":3,"sources":["store.js","data/routeList.js","component/Navigator.js","component/Header.js","data/private/apiKey.js","Utilities/ajax.js","component/UIElement/CatItem.js","image/heart_red.png","image/arrow.png","component/PagingButton.js","component/page/ErrorMessage.js","component/Gallery.js","component/page/index/IndexMain.js","component/page/mycat/MyCatMain.js","component/page/myFavorites/MyFavorites.js","component/UIElement/GeneralButton.js","component/page/login/LoginCard.js","component/UIElement/LoadingAnimation.js","component/page/upload/UploadPage.js","App.js","index.js"],"names":["reducer","state","action","copyState","JSON","parse","stringify","type","isLogin","publicCats","catList","newPublicCats","data","myCats","newMyCats","myFavorites","newMyFavorites","initState","currentPage","totalPage","limitImg","list","routeList","name","path","subTitle","LiItem","page","onClick","className","to","find","item","exact","activeClassName","Navigator","dispatch","store","Header","useLocation","pathname","console","log","url","postUploadImage","file","form","FormData","append","axios","headers","apiKey","method","deleteUploadedImage","id","getMyCatsFormRemote","limit","params","order","format","getCatsOfTheWorld","size","getMyFavoritesFormRemote","postFavoriteCat","image_id","sub_id","deleteFavoriteCat","CatItem","imgSrc","favoriteId","useState","undefined","favoriteState","setFavoriteState","ajaxLoadingState","setAjaxLoadingState","addFavoriteCat","a","error","message","response","removeFavoriteCat","removeUploadedCat","window","location","assign","href","src","alt","PagingButton","currentNum","totalNum","ajaxFn","onButtonClick","scrollTo","top","behavior","arrowImg","ErrorMessage","situation","customClass","Gallery","reducerArr","currentPageData","length","map","Array","from","_","index","IndexMain","ajaxErrorState","setAjaxErrorState","getPublicCats","useEffect","MyCatMain","getMyCats","Math","ceil","MyFavorites","getMyFavorites","image","GeneralButton","text","color","disabled","labelClass","inputClass","convertStringIntoHash","string","hash","i","imul","charCodeAt","withRouter","history","accountState","setAccountState","passwordState","setPasswordState","inputValidationState","setInputValidationState","errorMessageState","setErrorMessageState","bothInputValidation","event","targetIsAccount","target","value","targetIsPassword","test","inputValidationOnChange","inputValidationOnBlur","onSubmit","preventDefault","String","trim","replace","Error","htmlFor","onChange","onBlur","LoadingAnimation","style","borderTopColor","borderRightColor","borderBottomColor","UploadPage","cropperRef","useRef","imgSrcState","setImgState","waitResponseState","setWaitResponseState","useHistory","dropzoneElement","document","getElementById","Dropzone","uploadMultiple","transformFile","includes","imgURL","URL","createObjectURL","innerHTML","onFormSubmit","current","imgBase64","cropper","getCroppedCanvas","toDataURL","fetch","converted","blob","height","width","marginRight","marginLeft","background","initialAspectRatio","ref","viewMode","minCropBoxHeight","minCropBoxWidth","responsive","App","useReducer","LoginCard","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7e90eaed.chunk.js","sourcesContent":["export const reducer = (state, action) => {\n\tconst copyState = JSON.parse(JSON.stringify(state));\n\n\tswitch (action.type) {\n\t\tcase 'login':\n\t\t\treturn { ...state, isLogin: action.isLogin };\n\t\tcase 'getPublicCats':\n\t\t\tconst { publicCats } = copyState.catList;\n\t\t\tconst newPublicCats = { ...publicCats, ...action.data };\n\t\t\tcopyState.catList.publicCats = newPublicCats;\n\t\t\treturn copyState;\n\t\tcase 'getMyCats':\n\t\t\tconst { myCats } = copyState.catList;\n\t\t\tconst newMyCats = { ...myCats, ...action.data };\n\t\t\tcopyState.catList.myCats = newMyCats;\n\t\t\treturn copyState;\n\t\tcase 'getMyFavorites':\n\t\t\tconst { myFavorites } = copyState.catList;\n\t\t\tconst newMyFavorites = { ...myFavorites, ...action.data };\n\t\t\tcopyState.catList.myFavorites = newMyFavorites;\n\t\t\treturn copyState;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const initState = {\n\tisLogin: false,\n\tcatList: {\n\t\tpublicCats: {\n\t\t\tcurrentPage: 0,\n\t\t\ttotalPage: 0,\n\t\t\tlimitImg: 9,\n\t\t\tlist: null,\n\t\t},\n\t\tmyCats: {\n\t\t\tcurrentPage: 0,\n\t\t\ttotalPage: 0,\n\t\t\tlimitImg: 9,\n\t\t\tlist: null,\n\t\t},\n\t\tmyFavorites: {\n\t\t\tcurrentPage: 0,\n\t\t\ttotalPage: 0,\n\t\t\tlimitImg: 9,\n\t\t\tlist: null,\n\t\t},\n\t},\n};\n","// the action property is read only. don't change it!\n\nconst routeList = [\n\t{\n\t\taction: 'index',\n\t\tname: '首頁',\n\t\tpath: '/',\n\t\tsubTitle: 'Cats From All Over The World',\n\t},\n\t{\n\t\taction: 'login',\n\t\tname: '登入',\n\t\tpath: '/login',\n\t\tsubTitle: 'Login',\n\t},\n\t{\n\t\taction: 'favorites',\n\t\tname: '我的收藏',\n\t\tpath: '/myfavorites',\n\t\tsubTitle: 'My Favorites',\n\t},\n\t{\n\t\taction: 'uploaded',\n\t\tname: '我的貓貓',\n\t\tpath: '/mycat',\n\t\tsubTitle: 'My Cat',\n\t},\n\t{\n\t\taction: 'upload',\n\t\tname: '上傳貓貓',\n\t\tpath: '/mycat/upload',\n\t\tsubTitle: 'Upload',\n\t},\n\t{\n\t\taction: 'logout',\n\t\tname: '登出',\n\t\tpath: '/login',\n\t\tsubTitle: '',\n\t},\n];\nexport default routeList;\n","// Header 底部的導覽列 //\nimport { NavLink } from 'react-router-dom';\n\nimport routeList from '../data/routeList';\n\nconst LiItem = ({ page, onClick }) => {\n\treturn (\n\t\t<li className={`mx-5 text-lg`}>\n\t\t\t<NavLink\n\t\t\t\tonClick={onClick}\n\t\t\t\tto={routeList.find(item => item.action === page).path}\n\t\t\t\texact\n\t\t\t\tactiveClassName={`text-th-yellow bg-th-black`}>\n\t\t\t\t{routeList.find(item => item.action === page).name}\n\t\t\t</NavLink>\n\t\t</li>\n\t);\n};\n\nconst Navigator = ({ dispatch, store }) => {\n\tconst onLogoutButtonClick = () =>\n\t\tdispatch({ type: 'login', isLogin: false });\n\treturn (\n\t\t<nav className={`my-10`}>\n\t\t\t<ul className=\"flex justify-center\">\n\t\t\t\t<LiItem page={'index'} />\n\t\t\t\t{store.isLogin ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<LiItem page={'uploaded'} />\n\t\t\t\t\t\t<LiItem page={'upload'} />\n\t\t\t\t\t\t<LiItem page={'favorites'} />\n\t\t\t\t\t\t<LiItem page={'logout'} onClick={onLogoutButtonClick} />\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<LiItem page={'login'} />\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};\n\nexport default Navigator;\n","import { useLocation } from 'react-router-dom';\n\nimport routeList from '../data/routeList';\n\nimport Navigator from './Navigator';\n\nconst Header = ({ store, dispatch }) => {\n\tconst path = useLocation().pathname;\n\tconsole.log(path);\n\treturn (\n\t\t<header className={`my-20`}>\n\t\t\t<div className={`h-40 flex flex-col`}>\n\t\t\t\t<h1 className=\"text-center text-7xl mb-12\">Cat Gallery</h1>\n\t\t\t\t<h2 className=\"text-center text-md w-2/3 self-end font-bit tracking-normal\">\n\t\t\t\t\t{'> ' + routeList.find(item => item.path === path).subTitle}\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t\t<Navigator dispatch={dispatch} store={store} />\n\t\t</header>\n\t);\n};\n\nexport default Header;\n","export default '3e3b82c0-d2af-4c0a-b086-1cadee71d830';\n","import axios from 'axios';\nimport apiKey from '../data/private/apiKey';\n\nconst url = `https://api.thecatapi.com/v1`;\n\nexport const postUploadImage = file => {\n\tconst form = new FormData();\n\tform.append('file', file);\n\treturn axios({\n\t\theaders: { 'x-api-key': apiKey, 'Content-Type': 'multipart/form-data' },\n\t\tmethod: 'post',\n\t\turl: url + '/images/upload',\n\t\tdata: form,\n\t});\n};\n\nexport const deleteUploadedImage = id => {\n\treturn axios({\n\t\theaders: { 'x-api-key': apiKey },\n\t\tmethod: 'delete',\n\t\turl: url + '/images/' + id,\n\t});\n};\n\nexport const getMyCatsFormRemote = (limit, page) => {\n\treturn axios({\n\t\tmethod: 'get',\n\t\turl: url + '/images/',\n\t\tparams: {\n\t\t\tlimit,\n\t\t\tpage,\n\t\t\torder: 'ASC',\n\t\t\tformat: 'json',\n\t\t},\n\t\theaders: { 'x-api-key': apiKey },\n\t});\n};\n\nexport const getCatsOfTheWorld = (limit, page) => {\n\treturn axios({\n\t\tmethod: 'get',\n\t\turl: url + '/images/search',\n\t\tparams: {\n\t\t\tlimit,\n\t\t\tpage,\n\t\t\torder: 'ASC',\n\t\t\tsize: 'small',\n\t\t},\n\t\theaders: { 'x-api-key': 'DEMO-API-KEY' },\n\t});\n};\n\nexport const getMyFavoritesFormRemote = (limit, page) => {\n\treturn axios({\n\t\tmethod: 'get',\n\t\turl: url + '/favourites',\n\t\tparams: {\n\t\t\tlimit,\n\t\t\tpage,\n\t\t},\n\t\theaders: { 'x-api-key': apiKey },\n\t});\n};\n\nexport const postFavoriteCat = id => {\n\treturn axios({\n\t\tmethod: 'post',\n\t\theaders: { 'x-api-key': apiKey },\n\t\turl: url + '/favourites/',\n\t\tdata: {\n\t\t\timage_id: id,\n\t\t\tsub_id: id, // 提供此項可避免重複收藏\n\t\t},\n\t});\n};\n\nexport const deleteFavoriteCat = id => {\n\treturn axios({\n\t\tmethod: 'delete',\n\t\theaders: { 'x-api-key': apiKey },\n\t\turl: url + '/favourites/' + id,\n\t});\n};\n","// 圖片列表的每個項目單位元件 //\nimport { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport heart from '../../image/heart_red.png';\n\nimport {\n\tpostFavoriteCat,\n\tdeleteFavoriteCat,\n\tdeleteUploadedImage,\n} from '../../Utilities/ajax';\n\nconst CatItem = ({ imgSrc, isLogin, id, favoriteId }) => {\n\tconst path = useLocation().pathname;\n\tconst [favoriteState, setFavoriteState] = useState(\n\t\tfavoriteId !== undefined\n\t);\n\tconst [ajaxLoadingState, setAjaxLoadingState] = useState(false);\n\n\t//PART> FUNCTION\n\n\tconst addFavoriteCat = async id => {\n\t\tsetAjaxLoadingState(true);\n\t\ttry {\n\t\t\tawait postFavoriteCat(id);\n\t\t\tsetFavoriteState(true);\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t\tif (\n\t\t\t\terror.response.data.message ===\n\t\t\t\t'DUPLICATE_FAVOURITE - favourites are unique for account + image_id + sub_id'\n\t\t\t)\n\t\t\t\tsetFavoriteState(true);\n\t\t} finally {\n\t\t\t// 礙於 API 的回傳資料不足\n\t\t\t// 讓按鈕在「我的收藏」頁之外的地方無法進行後續互動\n\t\t\tif (favoriteId !== undefined) setAjaxLoadingState(false);\n\t\t}\n\t};\n\n\tconst removeFavoriteCat = async id => {\n\t\tsetAjaxLoadingState(true);\n\t\ttry {\n\t\t\tawait deleteFavoriteCat(id);\n\t\t\tsetFavoriteState(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t} finally {\n\t\t\tsetAjaxLoadingState(false);\n\t\t}\n\t};\n\n\tconst removeUploadedCat = async id => {\n\t\tsetAjaxLoadingState(true);\n\t\ttry {\n\t\t\tawait deleteUploadedImage(id);\n\t\t\twindow.location.assign(window.location.href);\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t}\n\t};\n\n\t//PART>\n\treturn (\n\t\t<div className={`my-10 mx-10 px-2 relative group`}>\n\t\t\t{isLogin && (\n\t\t\t\t<button\n\t\t\t\t\tonClick={\n\t\t\t\t\t\tfavoriteState\n\t\t\t\t\t\t\t? () => removeFavoriteCat(favoriteId)\n\t\t\t\t\t\t\t: () => addFavoriteCat(id)\n\t\t\t\t\t}\n\t\t\t\t\tclassName={`w-14 h-14 bg-white rounded-full absolute shadow-lg flex justify-center items-center transition-transform duration-150 transform active:scale-110 ${\n\t\t\t\t\t\tajaxLoadingState ? 'pointer-events-none' : ''\n\t\t\t\t\t}`}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={`w-2/3 h-2/3 ${\n\t\t\t\t\t\t\tfavoriteState ? '' : 'opacity-20 hover:opacity-60'\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tsrc={heart}\n\t\t\t\t\t\talt={`heart`}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\tclassName={`w-60 h-60 rounded-full overflow-hidden shadow-xl bg-th-black`}>\n\t\t\t\t{imgSrc && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={`object-cover h-full w-full`}\n\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\talt=\"cat\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{path === '/mycat' && id && (\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => removeUploadedCat(id)}\n\t\t\t\t\tclassName={`bg-white text-2xl w-10 h-10 rounded-full  leading-10 absolute right-3 bottom-3 transition-transform transform ${\n\t\t\t\t\t\tajaxLoadingState\n\t\t\t\t\t\t\t? 'pointer-events-none'\n\t\t\t\t\t\t\t: 'invisible scale-0'\n\t\t\t\t\t} group-hover:visible group-hover:scale-100`}>\n\t\t\t\t\t×\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CatItem;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDYtMjVUMTY6NTY6NTYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA2LTI1VDE3OjAwOjU4KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA2LTI1VDE3OjAwOjU4KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZjOGQxNTE4LWQ3NmUtNGU0MC05YmNiLWJkNTQ2ZDE2YjJlZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg2OTg0NDQzLThhNzYtNTk0Zi1iYTgyLTBkNThjMzNhZmExYSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjA5ZjkwYTI3LTMxOWMtNGRlMC05OWMxLTU1NDMyYzEwMmMwOCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDlmOTBhMjctMzE5Yy00ZGUwLTk5YzEtNTU0MzJjMTAyYzA4IiBzdEV2dDp3aGVuPSIyMDIxLTA2LTI1VDE2OjU2OjU2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NmM4ZDE1MTgtZDc2ZS00ZTQwLTliY2ItYmQ1NDZkMTZiMmVmIiBzdEV2dDp3aGVuPSIyMDIxLTA2LTI1VDE3OjAwOjU4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64dAz0AAADLUlEQVR42u3cPU4bURSG4YtTRbLSIAdRxemoYRP0ySKyCPaQZaRhAVlE0kQu6DwtIKwUlvkR9o2NRO9IPieZ6+eRvhpp4MXj5gxqraWF/fj0Ybpe7fmmntX/9awyNijAPyVCECGIEBAhiBAQIYgQECGIEBAhiBAQIYgQECGIEBAhiBAQIYgQECGIEBAhiBDoa4Q/P4+n0RuNRrP1Ss83S3lW74+u1is931XGs2rtk3AcvNMG/imeJjynzc4beFbnCc/J6yh4HQVECCIERAgiBEQIIgRECCIERAgiBEQIIgRECCIERAgiBEQIIgRECCIERLi6n4cPQiJs4TDv4fBtOb74Fr4yeBO+jCPDrWjlwPDmk3BcHObdTq3+be+XjAPDY98JwXdCECEgQhAhIEIQISBCECEgQhAhIEIQISBCECEgQhAhIEIQISBCECEgQhAhBweeAf2MsD49hm5zNPf665fw5fxG4g8M45MQECGIEBAhiBAQIYgQROgRgAhBhIAIQYSACEGEgAhBhIAIQYSACEGEgAhBhIAIQYRAAxHW5XPoympV6sMifKXW+CFCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJgNxF2CZt41PTQ94w+BmeX3cfo3c0Xw9/zRYlc9IHhlz3eh4/t3d5cR+8ko4+019Fl8MB3QkCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhLCvEXbB++XXuVcyDvO2E2HSgeF365WopR0YfliEL0Mrh3m9joLXUUCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhCBCQIQgQkCEIEJAhMGWHgEi3EoXvIk/ma00c5hXhH8h6cDw8PUQ8K6XeWB45jCvCFt4Nd318DoKiBBECIgQRAiIEEQIiBBECIgQRAiIEEQIiBBECIgQRAiIEEQIiBBECIiwXcvGfg4ijNKVfh8YnhSHeUXYV5kHhgM3dJhXhIAIQYSACEGEgAhBhCBCjwBECCIERAgiBEQIIgRECCIERAgiBEQIIgRECCIERAgiBGL9AR9d+bZb64M1AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAAC+CAYAAABAr1FjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDYtMjVUMTc6MTk6MTMrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA2LTI1VDE3OjIwOjQyKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA2LTI1VDE3OjIwOjQyKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU0YTRjOGExLTE3YjktNDc5My05YTcxLTVlM2VhOTRjYzk0MCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM5YzZhNjdlLThmODQtMDk0ZS05Y2IyLTA4ODM2YjE1ZjhkNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmE0MTdjNTBhLTZmMDEtNDQ4Mi04Njg0LTA3OTJmYjJkM2YzZCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTQxN2M1MGEtNmYwMS00NDgyLTg2ODQtMDc5MmZiMmQzZjNkIiBzdEV2dDp3aGVuPSIyMDIxLTA2LTI1VDE3OjE5OjEzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTRhNGM4YTEtMTdiOS00NzkzLTlhNzEtNWUzZWE5NGNjOTQwIiBzdEV2dDp3aGVuPSIyMDIxLTA2LTI1VDE3OjIwOjQyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5zT3qmAAACh0lEQVR42u3dwW2DMBSA4SKlncNZqEN0sAzRhXhzpAfnwq2iehQEGH/f2UoUJ79siSflVmt9A9a52QIQEggJhAQICYQEQgIhAUKCE4Y0DIMdXGc86H3vtv63NVM+TqTjlZ3fL2y5qx0ICYQECAmEBEICIQFCAiExeT5y6z6+0i+ZnagwASEkZpTkurBVQgIhgZBASICQQEggJBASICQmJiCExPmU5LqwVUICIYGQQEiAkEBIICQQEiAkJiYghMT5lOS6cCIBQgIhgZBASICQQEggJBDSMqMtPI/38pla9xPfqXUmIPYLqfj5svFvJVztwNUOEBIICYQEQrIFICQQEghpgewTcvZhAsKJxPWV5LpwtQNXO0BIICQQEggJEBIICYS0QPaJO+f6PkxAOJFoV0muC1c7cLUDIQFCAiGBkEBIgJBASDTLBISQuL6SXBdOJHC1AyEBQgIhgZBASICQQEg0q4EJCCGBEwmEBAgJhARCAiEBQgIhgZDoVnZiIWuPiQUhgZBASCAkQEggJBASCAkQEswLIdGEBiYW7kICVzsQEiAkEBIICYQECAmEBHkhpBlbPyHvTfbfHo76PlqcWHAigZBASCAkQEggJBASCAkQElcSQppxpn8NaNHzse3rmVhwIoGQQEiAkEBIICQQEiAkaCOksIWrlU4+Zwhp3l0Hq4xbvpiJBVc7EBIICRASCAmEBAgJhARC4lrCFgipSyYWhARCAiEBQgIhgZBASICQQEgcK2yBkLpkYkFIICQQEiAkEBIICRASCAmExLHCFgipSyYWhARCAoQEQgIhgZAAIYGQQEj8T9iCzkOqtdrBdUwYCAkQEggJhARCAoQEQgIhgZCAv7wAiIxdBs7TC1gAAAAASUVORK5CYII=\"","// 位於照片列表下方的分頁按鈕 //\nimport arrowImg from '../image/arrow.png';\n\nconst PagingButton = ({ currentNum, totalNum, ajaxFn }) => {\n\tconst onButtonClick = order => {\n\t\tajaxFn(order);\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t};\n\treturn (\n\t\t<div className={`flex justify-center items-center my-16`}>\n\t\t\t<button onClick={currentNum > 1 ? () => onButtonClick(-1) : null}>\n\t\t\t\t<img\n\t\t\t\t\tclassName={`w-14 h-14 opacity-80 transform rotate-180`}\n\t\t\t\t\tsrc={arrowImg}\n\t\t\t\t\talt={`arrow`}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t<p className={`mx-10 text-2xl font-bit`}>\n\t\t\t\t<span>{currentNum || 1}</span> / <span>{totalNum || 1}</span>\n\t\t\t</p>\n\t\t\t<button\n\t\t\t\tonClick={currentNum < totalNum ? () => onButtonClick(1) : null}>\n\t\t\t\t<img\n\t\t\t\t\tclassName={`w-14 h-14 opacity-80`}\n\t\t\t\t\tsrc={arrowImg}\n\t\t\t\t\talt={`arrow`}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default PagingButton;\n","// 用於 response 異常或例外狀況時的畫面顯示 //\nimport { Link } from 'react-router-dom';\n\nconst ErrorMessage = ({ situation, customClass }) => {\n\treturn (\n\t\t<div className={`mx-auto my-20`}>\n\t\t\t<p className={`text-xl text-center ${customClass}`}>\n\t\t\t\t{(function () {\n\t\t\t\t\tswitch (situation) {\n\t\t\t\t\t\tcase 'noLogin':\n\t\t\t\t\t\t\treturn '目前未登入';\n\t\t\t\t\t\tcase 'noData':\n\t\t\t\t\t\t\treturn '沒有資料';\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn '發生錯誤';\n\t\t\t\t\t}\n\t\t\t\t})()}\n\t\t\t</p>\n\t\t\t{situation === 'noLogin' && (\n\t\t\t\t<Link\n\t\t\t\t\tclassName={`mx-auto max-w-max block my-10 bg-yellow-500 text-white py-3 px-5 rounded-md`}\n\t\t\t\t\tto={`/login`}>\n\t\t\t\t\t回登入頁面\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default ErrorMessage;\n","import { useLocation } from 'react-router-dom';\n\nimport CatItem from './UIElement/CatItem';\nimport PagingButton from './PagingButton';\nimport ErrorMessage from './page/ErrorMessage';\n\nconst Gallery = ({ reducerArr, currentPageData, ajaxFn }) => {\n\tconst store = reducerArr[0];\n\tconst path = useLocation().pathname;\n\t// console.log(path);\n\n\tif (path !== '/' && store.isLogin === false)\n\t\treturn <ErrorMessage situation={'noLogin'} />;\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`flex flex-wrap`}>\n\t\t\t\t{currentPageData.list !== null &&\n\t\t\t\t\t(currentPageData.list.length === 0 ? (\n\t\t\t\t\t\t<ErrorMessage situation={`noData`} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tcurrentPageData.list.map(({ id, url, favoriteId }) => (\n\t\t\t\t\t\t\t<CatItem\n\t\t\t\t\t\t\t\timgSrc={url}\n\t\t\t\t\t\t\t\tkey={favoriteId || id}\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tfavoriteId={favoriteId}\n\t\t\t\t\t\t\t\tisLogin={store.isLogin}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t))}\n\t\t\t\t{currentPageData.list === null &&\n\t\t\t\t\t// provide placeholder\n\t\t\t\t\tArray.from({ length: 9 }, () => 1).map((_, index) => (\n\t\t\t\t\t\t<CatItem key={index} />\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<PagingButton\n\t\t\t\tcurrentNum={currentPageData.currentPage + 1}\n\t\t\t\ttotalNum={currentPageData.totalPage}\n\t\t\t\tajaxFn={ajaxFn}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default Gallery;\n","// 位於首頁的圖片列表區域 //\nimport { useEffect, useState } from 'react';\nimport Gallery from '../../Gallery';\n\nimport ErrorMessage from '../ErrorMessage';\nimport { getCatsOfTheWorld } from '../../../Utilities/ajax';\n\nconst IndexMain = ({ store, dispatch }) => {\n\tconst [ajaxErrorState, setAjaxErrorState] = useState(false);\n\n\t// order: -1 => 取往前九項, 0 => 取當前九項, 1 => 取往後九項\n\tconst getPublicCats = async (order = 0) => {\n\t\ttry {\n\t\t\tconst response = await getCatsOfTheWorld(\n\t\t\t\tstore.catList.publicCats.limitImg,\n\t\t\t\tstore.catList.publicCats.currentPage + order\n\t\t\t);\n\t\t\tconst data = {\n\t\t\t\tcurrentPage: +response.headers['pagination-page'],\n\t\t\t\ttotalPage: +response.headers['pagination-count'],\n\t\t\t\tlist: response.data.map(({ id, url }) => ({\n\t\t\t\t\tid,\n\t\t\t\t\turl,\n\t\t\t\t})),\n\t\t\t};\n\n\t\t\tdispatch({ type: 'getPublicCats', data });\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t\tsetAjaxErrorState(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetPublicCats();\n\t}, []);\n\n\tif (ajaxErrorState) return <ErrorMessage customClass={`py-20`} />;\n\n\treturn (\n\t\t<Gallery\n\t\t\tcurrentPageData={store.catList.publicCats}\n\t\t\tajaxFn={getPublicCats}\n\t\t\treducerArr={[store, dispatch]}\n\t\t/>\n\t);\n};\n\nexport default IndexMain;\n","// 位於已上傳圖片頁的列表區域 //\nimport { useEffect, useState } from 'react';\nimport Gallery from '../../Gallery';\n\nimport ErrorMessage from '../ErrorMessage';\nimport { getMyCatsFormRemote } from '../../../Utilities/ajax';\n\nconst MyCatMain = ({ store, dispatch }) => {\n\tconst [ajaxErrorState, setAjaxErrorState] = useState(false);\n\n\t// order: -1 => 取往前九項, 0 => 取當前九項, 1 => 取往後九項\n\tconst getMyCats = async (order = 0) => {\n\t\ttry {\n\t\t\tconst response = await getMyCatsFormRemote(\n\t\t\t\tstore.catList.myCats.limitImg,\n\t\t\t\tstore.catList.myCats.currentPage + order\n\t\t\t);\n\t\t\tconst data = {\n\t\t\t\tcurrentPage: +response.headers['pagination-page'],\n\t\t\t\ttotalPage: Math.ceil(+response.headers['pagination-count'] / 9),\n\t\t\t\tlist: response.data.map(({ id, url }) => ({\n\t\t\t\t\tid,\n\t\t\t\t\turl,\n\t\t\t\t})),\n\t\t\t};\n\t\t\tdispatch({ type: 'getMyCats', data });\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t\tsetAjaxErrorState(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetMyCats();\n\t}, []);\n\n\tif (ajaxErrorState) return <ErrorMessage customClass={`py-20`} />;\n\n\treturn (\n\t\t<Gallery\n\t\t\tcurrentPageData={store.catList.myCats}\n\t\t\tajaxFn={getMyCats}\n\t\t\treducerArr={[store, dispatch]}\n\t\t/>\n\t);\n};\n\nexport default MyCatMain;\n","// 位於收藏頁的圖片列表區域 //\nimport { useEffect, useState } from 'react';\nimport Gallery from '../../Gallery';\n\nimport ErrorMessage from '../ErrorMessage';\nimport { getMyFavoritesFormRemote } from '../../../Utilities/ajax';\n\nconst MyFavorites = ({ store, dispatch }) => {\n\tconst [ajaxErrorState, setAjaxErrorState] = useState(false);\n\n\t// order: -1 => 取往前九項, 0 => 取當前九項, 1 => 取往後九項\n\tconst getMyFavorites = async (order = 0) => {\n\t\ttry {\n\t\t\tconst response = await getMyFavoritesFormRemote(\n\t\t\t\tstore.catList.myFavorites.limitImg,\n\t\t\t\tstore.catList.myFavorites.currentPage + order\n\t\t\t);\n\t\t\tconst data = {\n\t\t\t\tcurrentPage: +response.headers['pagination-page'],\n\t\t\t\ttotalPage: Math.ceil(+response.headers['pagination-count'] / 9),\n\t\t\t\tlist: response.data.map(item => ({\n\t\t\t\t\tid: item.image.id,\n\t\t\t\t\tfavoriteId: item.id,\n\t\t\t\t\turl: item.image.url,\n\t\t\t\t})),\n\t\t\t};\n\t\t\tdispatch({ type: 'getMyFavorites', data });\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t\tsetAjaxErrorState(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetMyFavorites();\n\t}, []);\n\n\tif (ajaxErrorState) return <ErrorMessage customClass={`py-20`} />;\n\n\treturn (\n\t\t<Gallery\n\t\t\tcurrentPageData={store.catList.myFavorites}\n\t\t\tajaxFn={getMyFavorites}\n\t\t\treducerArr={[store, dispatch]}\n\t\t/>\n\t);\n};\n\nexport default MyFavorites;\n","const GeneralButton = ({ text, color, onClick, customClass, disabled }) => {\n\treturn (\n\t\t<button\n\t\t\tdisabled={disabled || false}\n\t\t\tonClick={onClick || null}\n\t\t\tclassName={`mt-5 py-3 px-5 text-white rounded-md focus:ring-0 ${\n\t\t\t\tcolor || 'bg-yellow-500 active:bg-yellow-600'\n\t\t\t} ${customClass || ''}`}>\n\t\t\t{text}\n\t\t</button>\n\t);\n};\n\nexport default GeneralButton;\n","import { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport GeneralButton from '../../UIElement/GeneralButton';\n\nconst labelClass = `mb-1`;\nconst inputClass = `text-th-black bg-gray-100 rounded-md mb-5 border-none  focus:ring-0`;\n\n// use a string to generate a hash\nconst convertStringIntoHash = string => {\n\tlet hash = 0;\n\tfor (let i = 0; i < string.length; ++i)\n\t\thash = Math.imul(31, hash) + string.charCodeAt(i);\n\treturn hash | 0;\n};\n\nconst LoginCart = ({ dispatch, history }) => {\n\tconst [accountState, setAccountState] = useState('');\n\tconst [passwordState, setPasswordState] = useState('');\n\tconst [inputValidationState, setInputValidationState] = useState(false);\n\tconst [errorMessageState, setErrorMessageState] = useState('');\n\n\t//PART> FUNCTION\n\n\t// decide whether the「登入」button can be clicked\n\tconst bothInputValidation = event => {\n\t\tlet targetIsAccount =\n\t\t\tevent.target.id === 'login_account' ? event.target.value : null;\n\t\tlet targetIsPassword =\n\t\t\tevent.target.id === 'login_password' ? event.target.value : null;\n\t\tif (\n\t\t\t/^[a-zA-Z0-9]{6,12}$/.test(targetIsAccount || accountState) &&\n\t\t\t/^[a-zA-Z0-9]{6,12}$/.test(targetIsPassword || passwordState)\n\t\t)\n\t\t\treturn setInputValidationState(true);\n\t\tsetInputValidationState(false);\n\t};\n\t// verify that the input value is valid (on input value changing)\n\tconst inputValidationOnChange = event => {\n\t\tif (event.target.value.length > 12) {\n\t\t\tsetInputValidationState(false);\n\t\t\tsetErrorMessageState(\n\t\t\t\t`${\n\t\t\t\t\tevent.target.id === 'login_account' ? '帳號' : '密碼'\n\t\t\t\t}長度為 6-12 個字元`\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (!/^[a-zA-Z0-9]*$/.test(event.target.value)) {\n\t\t\tsetInputValidationState(false);\n\t\t\tsetErrorMessageState(`僅接受大/小寫英文字母、數字`);\n\t\t\treturn;\n\t\t}\n\t\tsetErrorMessageState('');\n\t};\n\t// verify that the input value is valid (on input element blurring)\n\tconst inputValidationOnBlur = event => {\n\t\tif (event.target.value.length < 6) {\n\t\t\tsetInputValidationState(false);\n\t\t\tsetErrorMessageState(\n\t\t\t\t`${\n\t\t\t\t\tevent.target.id === 'login_account' ? '帳號' : '密碼'\n\t\t\t\t}長度為 6-12 個字元`\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tsetErrorMessageState('');\n\t};\n\n\t// on button「登入」clicked\n\tconst onFormSubmit = event => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tif (\n\t\t\t\tString(convertStringIntoHash(accountState.trim())) ===\n\t\t\t\t\t'1066265387' &&\n\t\t\t\tString(convertStringIntoHash(passwordState)) === '-1861386176'\n\t\t\t) {\n\t\t\t\tconsole.log('correct');\n\t\t\t\tdispatch({ type: 'login', isLogin: true });\n\t\t\t\treturn history.replace('/');\n\t\t\t}\n\t\t\tthrow new Error('帳號或密碼錯誤');\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetErrorMessageState(error.message);\n\t\t}\n\t};\n\n\t//PART> JSX\n\n\treturn (\n\t\t<div className={`w-1/3 mx-auto bg-white p-10 rounded-md shadow-lg`}>\n\t\t\t<form onSubmit={onFormSubmit} className={`flex flex-col`}>\n\t\t\t\t<label htmlFor={`login_account`} className={labelClass}>\n\t\t\t\t\t帳號\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tonChange={event => {\n\t\t\t\t\t\tsetAccountState(event.target.value);\n\t\t\t\t\t\tinputValidationOnChange(event);\n\t\t\t\t\t\tbothInputValidation(event);\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={inputValidationOnBlur}\n\t\t\t\t\t// name={`login_account`}\n\t\t\t\t\tid={`login_account`}\n\t\t\t\t\tclassName={inputClass}\n\t\t\t\t\ttype={`text`}\n\t\t\t\t\tvalue={accountState}\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={`login_password`} className={labelClass}>\n\t\t\t\t\t密碼\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tonChange={event => {\n\t\t\t\t\t\tsetPasswordState(event.target.value);\n\t\t\t\t\t\tinputValidationOnChange(event);\n\t\t\t\t\t\tbothInputValidation(event);\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={inputValidationOnBlur}\n\t\t\t\t\t// name={`login_account`}\n\t\t\t\t\tid={`login_password`}\n\t\t\t\t\tclassName={inputClass}\n\t\t\t\t\ttype={`password`}\n\t\t\t\t\tvalue={passwordState}\n\t\t\t\t/>\n\t\t\t\t<p\n\t\t\t\t\tclassName={`text-center text-sm text-red-500 h-5 ${\n\t\t\t\t\t\terrorMessageState ? '' : 'invisible'\n\t\t\t\t\t}`}>\n\t\t\t\t\t{errorMessageState}\n\t\t\t\t</p>\n\t\t\t\t<GeneralButton\n\t\t\t\t\ttext={`登入`}\n\t\t\t\t\tcustomClass={`${\n\t\t\t\t\t\tinputValidationState\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: 'pointer-events-none opacity-50'\n\t\t\t\t\t}`}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(LoginCart);\n","// 轉圈的圓形動畫元素 //\nconst LoadingAnimation = ({ customClass }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={`w-full h-full flex items-center justify-center ${customClass}`}>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tborderTopColor: 'rgba(233,233,255,0.5)',\n\t\t\t\t\tborderRightColor: 'rgba(233,233,255,0.5)',\n\t\t\t\t\tborderBottomColor: 'rgba(233,233,255,0.5)',\n\t\t\t\t}}\n\t\t\t\tclassName={`w-10 h-10 border-4 border-th-black rounded-full animate-spin`}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nexport default LoadingAnimation;\n","import { useEffect, useRef, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Dropzone from 'dropzone'; //（拖曳上傳檔案之套件）\nimport Cropper from 'react-cropper'; //（裁剪圖片之套件）\nimport 'cropperjs/dist/cropper.min.css';\n\nimport GeneralButton from '../../UIElement/GeneralButton';\nimport LoadingAnimation from '../../UIElement/LoadingAnimation';\nimport ErrorMessage from '../ErrorMessage';\nimport { postUploadImage } from '../../../Utilities/ajax';\n\nconst UploadPage = () => {\n\tconst cropperRef = useRef(null);\n\tconst [imgSrcState, setImgState] = useState(null);\n\tconst [errorMessageState, setErrorMessageState] = useState(null);\n\tconst [waitResponseState, setWaitResponseState] = useState(false);\n\tconst [ajaxErrorState, setAjaxErrorState] = useState(false);\n\tconst history = useHistory();\n\n\t//PART> Dropzone settings\n\tuseEffect(() => {\n\t\tconst dropzoneElement = document.getElementById('dropzone_block');\n\t\ttry {\n\t\t\tnew Dropzone(dropzoneElement, {\n\t\t\t\turl: '/upload',\n\t\t\t\tuploadMultiple: false,\n\t\t\t\ttransformFile(file) {\n\t\t\t\t\tconst acceptFormat = ['image/jpeg', 'image/png'];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (file.size > 500 * 1000)\n\t\t\t\t\t\t\treturn setErrorMessageState(\n\t\t\t\t\t\t\t\t'檔案尺寸需小於 500kb！'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!acceptFormat.includes(file.type))\n\t\t\t\t\t\t\treturn setErrorMessageState(\n\t\t\t\t\t\t\t\t'檔案需為 JPEG / PNG 格式！'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tconst imgURL = URL.createObjectURL(file);\n\t\t\t\t\t\tsetImgState(imgURL);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tdropzoneElement.innerHTML = '';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (error) {\n\t\t\t// 推測為 Webpack 在開發模式下的 code 抽換機制會造成 dropzone 重複掛載\n\t\t\t// 為了開發上的方便，設定 try...catch 避免錯誤彈出\n\t\t}\n\t}, []);\n\n\t//PART> FUNCTION\n\tconst onFormSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tsetWaitResponseState(true);\n\t\ttry {\n\t\t\tif (!cropperRef.current) return;\n\t\t\tconst imgBase64 = cropperRef.current.cropper\n\t\t\t\t.getCroppedCanvas()\n\t\t\t\t.toDataURL();\n\t\t\t// convert base64 string into the blob format\n\t\t\tconst converted = await fetch(imgBase64);\n\t\t\tconst blob = await converted.blob();\n\t\t\t//\n\t\t\tawait postUploadImage(blob);\n\t\t\thistory.replace('/mycat');\n\t\t} catch (error) {\n\t\t\tconsole.error(error.message);\n\t\t\tsetAjaxErrorState(true);\n\t\t}\n\t};\n\n\tif (ajaxErrorState) return <ErrorMessage customClass={`py-20`} />;\n\n\treturn (\n\t\t<div className={`relative`}>\n\t\t\t<form\n\t\t\t\tonSubmit={onFormSubmit}\n\t\t\t\tclassName={`flex flex-col items-center ${\n\t\t\t\t\twaitResponseState ? 'pointer-events-none opacity-60' : ''\n\t\t\t\t}`}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`relative mb-14 bg-white rounded-2xl shadow-md`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: 400,\n\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\tmarginRight: 'auto',\n\t\t\t\t\t\tmarginLeft: 'auto',\n\t\t\t\t\t}}>\n\t\t\t\t\t{imgSrcState === null ? (\n\t\t\t\t\t\t// 藉由 dropzone 取得檔案後卸載該元件\n\t\t\t\t\t\t// 並掛載 cropper 元件進行圖片裁剪\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid={`dropzone_block`}\n\t\t\t\t\t\t\t\tclassName={`w-full h-full cursor-pointer`}></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`absolute transform top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 pointer-events-none`}>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclassName={`text-center whitespace-nowrap text-xl mb-5 opacity-50`}>\n\t\t\t\t\t\t\t\t\t點擊區塊或拖曳檔案以進行圖片上傳\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclassName={`text-center whitespace-nowrap opacity-50 mb-5`}>\n\t\t\t\t\t\t\t\t\t接受格式：JPEG、PNG / 500KB 以下 /\n\t\t\t\t\t\t\t\t\t必須含有貓貓！\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclassName={`text-center text-red-500 whitespace-nowrap block h-5`}>\n\t\t\t\t\t\t\t\t\t{errorMessageState || ''}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\tclassName={``}\n\t\t\t\t\t\t\tsrc={imgSrcState}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tbackground={false}\n\t\t\t\t\t\t\tinitialAspectRatio={3 / 2}\n\t\t\t\t\t\t\tref={cropperRef}\n\t\t\t\t\t\t\tviewMode={1}\n\t\t\t\t\t\t\tminCropBoxHeight={100}\n\t\t\t\t\t\t\tminCropBoxWidth={100}\n\t\t\t\t\t\t\tresponsive={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<GeneralButton\n\t\t\t\t\ttext={'上傳'}\n\t\t\t\t\tdisabled={imgSrcState ? false : true}\n\t\t\t\t\tcustomClass={imgSrcState || 'opacity-50'}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{waitResponseState && (\n\t\t\t\t<LoadingAnimation customClass={'absolute top-0 left-0'} />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UploadPage;\n","import { useReducer } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\nimport { reducer, initState } from './store';\nimport routeList from './data/routeList';\n\nimport Header from './component/Header';\nimport IndexMain from './component/page/index/IndexMain';\nimport MyCatMain from './component/page/mycat/MyCatMain';\nimport MyFavorites from './component/page/myFavorites/MyFavorites';\nimport LoginCard from './component/page/login/LoginCard';\nimport Cropper from './component/page/upload/UploadPage';\n\nfunction App() {\n\tconst [store, dispatch] = useReducer(reducer, initState);\n\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<div className=\"max-w-screen-lg mx-auto pb-28\">\n\t\t\t\t<Header store={store} dispatch={dispatch} />\n\t\t\t\t<main>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\trouteList.find(item => item.action === 'upload')\n\t\t\t\t\t\t\t\t\t.path\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texact>\n\t\t\t\t\t\t\t<Cropper />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\trouteList.find(\n\t\t\t\t\t\t\t\t\titem => item.action === 'uploaded'\n\t\t\t\t\t\t\t\t).path\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texact>\n\t\t\t\t\t\t\t<MyCatMain store={store} dispatch={dispatch} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\trouteList.find(\n\t\t\t\t\t\t\t\t\titem => item.action === 'favorites'\n\t\t\t\t\t\t\t\t).path\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texact>\n\t\t\t\t\t\t\t<MyFavorites store={store} dispatch={dispatch} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\trouteList.find(item => item.action === 'login')\n\t\t\t\t\t\t\t\t\t.path\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texact>\n\t\t\t\t\t\t\t<LoginCard dispatch={dispatch} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path={`/`} exact>\n\t\t\t\t\t\t\t<IndexMain store={store} dispatch={dispatch} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Redirect to={`/`} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}